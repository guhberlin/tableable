/*
 *  jQuery tableable plugin - v0.1.0
 *  A plugin to filter and pager html tables
 *  
 *
 *  Made by manuel piesold
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c,h),this._defaults=g,this._name=f,this.init()}var f="tableable",g={useFilter:!0,filterInputSelector:"",ignoreCase:!1,usePager:!0,pagerListSelector:"",rowsPerPage:5},h={displayType:"table-row",filteredAttribute:"data-is-filtered",pageIndexAttribute:"data-page-index",pageSwitchPageAttribute:"data-show-page-index",currentPageIndex:"1"};e.prototype.init=function(){var b=this,c=b.settings.usePager&&b.settings.pagerListSelector.length,d=b.settings.useFilter&&b.settings.filterInputSelector.length;d&&a(b.settings.filterInputSelector).keyup(function(){b.filter(a(this).val()),c&&b.paginate()}),c&&b.paginate()},e.prototype.paginate=function(){var b=this,c=0;a(b.element).children("tbody").children("tr").removeAttr(b.settings.pageIndexAttribute).filter(function(){return!a(this).hasAttr(b.settings.filteredAttribute)}).each(function(d){d%b.settings.rowsPerPage===0&&c++,a(this).attr(b.settings.pageIndexAttribute,c)}),b.buildPagerList(c),b.showPage(b.settings.currentPageIndex)},e.prototype.buildPagerList=function(b){var c=this;a(c.settings.pagerListSelector).empty();for(var d=1;b>=d;d++)a(c.settings.pagerListSelector).append("<li "+c.settings.pageSwitchPageAttribute+'="'+d+'" ><a>'+d+"</a></li>");a(c.settings.pagerListSelector+" li["+c.settings.pageSwitchPageAttribute+"]").on("click",function(){c.showPage(a(this).attr(c.settings.pageSwitchPageAttribute))})},e.prototype.showPage=function(b){var c=this;a(c.element).children("tbody").children("tr").css("display","none").filter(function(){return a(this).attr(c.settings.pageIndexAttribute)===b}).css("display",c.settings.displayType),c.settings.currentPageIndex=b,a(c.settings.pagerListSelector+" li["+c.settings.pageSwitchPageAttribute+"]").removeClass("active").filter(function(){return a(this).attr(c.settings.pageSwitchPageAttribute)===b}).addClass("active")},e.prototype.filter=function(b){var c=this;b=c.settings.ignoreCase?b.toLowerCase():b,a(c.element).children("tbody").children("tr").css("display","none").attr(c.settings.filteredAttribute,"").each(function(){var d=a(this);d.children("td").each(function(e,f){return f=c.settings.ignoreCase?a(f).text().toLowerCase():a(f).text(),f.indexOf(b)>=0?void d.css("display",c.settings.displayType).removeAttr(c.settings.filteredAttribute):void 0})})},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this},a.fn.hasAttr=function(a){return this.attr(a)!==d}}(jQuery,window,document);